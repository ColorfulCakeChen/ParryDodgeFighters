{
	"name": "Event_Sheet_Fighter",
	"events": [
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-timer",
					"objectClass": "Fighter",
					"sid": 986118309095995,
					"behaviorType": "Timer",
					"parameters": {
						"tag": "\"EnergyRestore\""
					}
				}
			],
			"actions": [
				{
					"id": "set-instvar-value",
					"objectClass": "Fighter",
					"sid": 718780227153299,
					"parameters": {
						"instance-variable": "EnergyCur",
						"value": "min( Self.EnergyCur + Self.EnergyRestorePoints, Self.EnergyMax )"
					}
				},
				{
					"callFunction": "EnergyBarRefresh",
					"sid": 429894878575575
				}
			],
			"sid": 231980933674926
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-timer",
					"objectClass": "Fighter",
					"sid": 764052896224703,
					"behaviorType": "Timer",
					"parameters": {
						"tag": "\"ShootCoolDown\""
					}
				}
			],
			"actions": [
				{
					"id": "set-boolean-instvar",
					"objectClass": "Fighter",
					"sid": 821068854172783,
					"parameters": {
						"instance-variable": "ShootReady",
						"value": "true"
					}
				}
			],
			"sid": 144467237506523
		},
		{
			"functionName": "Fighter_recreateAll",
			"functionDescription": "Recreate all Fighter (hierarchy).",
			"functionCategory": "Fighter",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "Fighter",
					"sid": 846134909559484
				},
				{
					"id": "destroy",
					"objectClass": "Projectile",
					"sid": 290382056744667
				},
				{
					"callFunction": "Fighter_create",
					"sid": 293196134570834,
					"parameters": [
						"Alignment0_Id",
						"Alignment0_Fighter_X",
						"Alignment0_Fighter_Y",
						"Alignment0_Fighter_Angle",
						"Alignment0_Fighter_Color_R",
						"Alignment0_Fighter_Color_G",
						"Alignment0_Fighter_Color_B"
					]
				},
				{
					"callFunction": "Fighter_create",
					"sid": 389649426146040,
					"parameters": [
						"Alignment1_Id",
						"Alignment1_Fighter_X",
						"Alignment1_Fighter_Y",
						"Alignment1_Fighter_Angle",
						"Alignment1_Fighter_Color_R",
						"Alignment1_Fighter_Color_G",
						"Alignment1_Fighter_Color_B"
					]
				}
			],
			"sid": 482811962513476
		},
		{
			"functionName": "Fighter_create",
			"functionDescription": "Create one Fighter (hierarchy)",
			"functionCategory": "Fighter",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "AlignmentId",
					"type": "number",
					"initialValue": "0",
					"comment": "The the alignment numeric identifier of the created Fighter.",
					"sid": 555641068065648
				},
				{
					"name": "X",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 822837895721739
				},
				{
					"name": "Y",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 827261301022644
				},
				{
					"name": "FaceAngle",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 222786055098931
				},
				{
					"name": "ColorR",
					"type": "number",
					"initialValue": "255",
					"comment": "",
					"sid": 888039430666060
				},
				{
					"name": "ColorG",
					"type": "number",
					"initialValue": "255",
					"comment": "",
					"sid": 990883722353278
				},
				{
					"name": "ColorB",
					"type": "number",
					"initialValue": "255",
					"comment": "",
					"sid": 578447322703112
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 750448177561400,
					"parameters": {
						"object-to-create": "Fighter",
						"layer": "1",
						"x": "X",
						"y": "Y",
						"create-hierarchy": true,
						"template-name": "\"FighterTemplate\""
					}
				},
				{
					"id": "stop-animation",
					"objectClass": "Fighter",
					"sid": 236154558499395
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Fighter",
					"sid": 694968917598312,
					"parameters": {
						"instance-variable": "VersusAlignmentId",
						"value": "AlignmentId"
					}
				},
				{
					"id": "set-angle",
					"objectClass": "Fighter",
					"sid": 781151700583098,
					"parameters": {
						"angle": "FaceAngle"
					}
				},
				{
					"id": "set-default-color",
					"objectClass": "FighterSkin",
					"sid": 949374298968077,
					"parameters": {
						"color": "rgbEx255(ColorR, ColorG, ColorB)"
					}
				},
				{
					"id": "start-timer",
					"objectClass": "Fighter",
					"sid": 159626439227153,
					"behaviorType": "Timer",
					"parameters": {
						"duration": "Fighter.EnergyRestoreSeconds",
						"type": "regular",
						"tag": "\"EnergyRestore\""
					}
				}
			],
			"sid": 381188756354974
		},
		{
			"functionName": "Fighter_shootProjectile",
			"functionDescription": "Create Projectile at Fighter's GunMuzzle",
			"functionCategory": "Fighter",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "AlignmentId",
					"type": "number",
					"initialValue": "0",
					"comment": "Specify which Fighter to shoot Projectile.",
					"sid": 743241594594642
				},
				{
					"name": "WhetherShoot",
					"type": "number",
					"initialValue": "0",
					"comment": "0: No shoot. 1: Shoot.",
					"sid": 140871967245241
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "compare-two-values",
					"objectClass": "System",
					"sid": 266767440221292,
					"parameters": {
						"first-value": "WhetherShoot",
						"comparison": 4,
						"second-value": "0"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "Fighter",
					"sid": 202511763412473,
					"parameters": {
						"instance-variable": "VersusAlignmentId",
						"comparison": 0,
						"value": "AlignmentId"
					}
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "Fighter",
					"sid": 887428488294451,
					"parameters": {
						"instance-variable": "ShootReady"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "Fighter",
					"sid": 835031589117626,
					"parameters": {
						"instance-variable": "EnergyCur",
						"comparison": 4,
						"value": "0"
					}
				}
			],
			"actions": [
				{
					"id": "set-boolean-instvar",
					"objectClass": "Fighter",
					"sid": 351661378859725,
					"parameters": {
						"instance-variable": "ShootReady",
						"value": "false"
					}
				},
				{
					"id": "start-timer",
					"objectClass": "Fighter",
					"sid": 360623339102788,
					"behaviorType": "Timer",
					"parameters": {
						"duration": "Self.ShootReadySeconds",
						"type": "once",
						"tag": "\"ShootCoolDown\""
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Fighter",
					"sid": 472299006307758,
					"parameters": {
						"instance-variable": "EnergyCur",
						"value": "max( Self.EnergyCur - Self.EnergyPointsShoot, 0 )"
					}
				},
				{
					"callFunction": "EnergyBarRefresh",
					"sid": 641453225654584
				},
				{
					"id": "spawn-another-object",
					"objectClass": "Fighter",
					"sid": 617366794989799,
					"parameters": {
						"object": "Projectile",
						"layer": "1",
						"image-point": "\"GunMuzzle\"",
						"create-hierarchy": true
					}
				},
				{
					"id": "stop-animation",
					"objectClass": "Projectile",
					"sid": 472344430563071
				},
				{
					"id": "create-revolute-joint",
					"objectClass": "Fighter",
					"sid": 261971389045109,
					"disabled": true,
					"behaviorType": "Physics",
					"parameters": {
						"this-image-point": "0",
						"object": "Projectile"
					}
				},
				{
					"id": "apply-impulse-at-angle",
					"objectClass": "Projectile",
					"sid": 736881203892636,
					"behaviorType": "Physics",
					"parameters": {
						"impulse": "Self.Physics.Mass * GameToPhysicsRatio * Self.Acceleration",
						"angle": "Self.Angle",
						"image-point": "\"ThrustPoint\""
					}
				}
			],
			"sid": 672378711083100
		},
		{
			"functionName": "Fighter_applyAcceleration",
			"functionDescription": "Let Fighter got specified acceleration.",
			"functionCategory": "Fighter",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "AlignmentId",
					"type": "number",
					"initialValue": "0",
					"comment": "Specify which Fighter to be applied force.",
					"sid": 984114611357793
				},
				{
					"name": "ForceScaleX",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 827888944328589
				},
				{
					"name": "ForceScaleY",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 709676732894794
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "evaluate-expression",
					"objectClass": "System",
					"sid": 388372150456930,
					"disabled": true,
					"parameters": {
						"value": "(AlignmentId >= 0 ) & ( ForceScaleX <> 0 ) & ( ForceScaleY <> 0 )"
					}
				},
				{
					"id": "evaluate-expression",
					"objectClass": "System",
					"sid": 304583869612906,
					"disabled": true,
					"parameters": {
						"value": "( ForceScaleX <> 0 ) & ( ForceScaleY <> 0 )"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "Fighter",
					"sid": 554248176598770,
					"parameters": {
						"instance-variable": "VersusAlignmentId",
						"comparison": 0,
						"value": "AlignmentId"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "Fighter",
					"sid": 278219412522839,
					"parameters": {
						"instance-variable": "EnergyCur",
						"comparison": 4,
						"value": "0"
					}
				}
			],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "SpriteFont",
					"sid": 874676504366084,
					"disabled": true,
					"parameters": {
						"text": "SpriteFont.Text & \",Mass=\" & Fighter.Physics.Mass"
					}
				},
				{
					"id": "set-text",
					"objectClass": "SpriteFont",
					"sid": 902280635658129,
					"disabled": true,
					"parameters": {
						"text": "SpriteFont.Text & \",ForceScaleX=\" & ForceScaleX & \",ForceScaleY=\" & ForceScaleY"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Fighter",
					"sid": 552960550594776,
					"parameters": {
						"instance-variable": "EnergyCur",
						"value": "max( Self.EnergyCur - Self.EnergyPointsThrust, 0 )"
					}
				},
				{
					"callFunction": "EnergyBarRefresh",
					"sid": 624429156458684
				},
				{
					"id": "apply-force",
					"objectClass": "Fighter",
					"sid": 404563629868098,
					"behaviorType": "Physics",
					"parameters": {
						"force-x": "Self.Physics.Mass * GameToPhysicsRatio * Self.Acceleration * ForceScaleX",
						"force-y": "Self.Physics.Mass * GameToPhysicsRatio * Self.Acceleration * ForceScaleY",
						"image-point": "\"GunMuzzle\""
					}
				}
			],
			"sid": 861478868260186
		},
		{
			"functionName": "Fighter_thrust_shoot_byKeyboard",
			"functionDescription": "",
			"functionCategory": "Fighter",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "compare-boolean-eventvar",
					"objectClass": "System",
					"sid": 658773203942919,
					"parameters": {
						"variable": "PlayerControllable"
					}
				}
			],
			"actions": [
				{
					"type": "comment",
					"text": "Anti the gravity completely."
				},
				{
					"id": "apply-force",
					"objectClass": "Fighter",
					"sid": 735080081536116,
					"disabled": true,
					"behaviorType": "Physics",
					"parameters": {
						"force-x": "0",
						"force-y": "-Self.Physics.Mass * GameToPhysicsRatio * PhysicsGravity",
						"image-point": "0"
					}
				},
				{
					"callFunction": "Fighter_byKeyDownArray",
					"sid": 977945156992282,
					"parameters": [
						"0",
						"0"
					]
				}
			],
			"sid": 551444411169118,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-at-x",
							"objectClass": "KeyDownArray",
							"sid": 958900423815119,
							"parameters": {
								"x": "KeyCode_ArrowUp",
								"comparison": 4,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "SpriteFont",
							"sid": 109580867693354,
							"disabled": true,
							"parameters": {
								"text": "SpriteFont.Text & \",Up\""
							}
						},
						{
							"callFunction": "Fighter_applyAcceleration",
							"sid": 224359262544233,
							"parameters": [
								"PlayerAlignmentId_UnUsed",
								"0",
								"-Fighter.Acceleration"
							]
						}
					],
					"sid": 335114378750189,
					"disabled": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-at-x",
							"objectClass": "KeyDownArray",
							"sid": 734559886724826,
							"parameters": {
								"x": "KeyCode_ArrowDown",
								"comparison": 4,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "SpriteFont",
							"sid": 202579690792960,
							"disabled": true,
							"parameters": {
								"text": "SpriteFont.Text & \",Down\""
							}
						},
						{
							"callFunction": "Fighter_applyAcceleration",
							"sid": 298905617938196,
							"parameters": [
								"PlayerAlignmentId_UnUsed",
								"0",
								"Fighter.Acceleration"
							]
						}
					],
					"sid": 632865424140316,
					"disabled": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-at-x",
							"objectClass": "KeyDownArray",
							"sid": 180808307015850,
							"parameters": {
								"x": "KeyCode_ArrowLeft",
								"comparison": 4,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"callFunction": "Fighter_applyAcceleration",
							"sid": 928883768665533,
							"parameters": [
								"PlayerAlignmentId_UnUsed",
								"-Fighter.Acceleration",
								"0"
							]
						}
					],
					"sid": 654849004402937,
					"disabled": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-at-x",
							"objectClass": "KeyDownArray",
							"sid": 825746214101108,
							"parameters": {
								"x": "KeyCode_ArrowRight",
								"comparison": 4,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"callFunction": "Fighter_applyAcceleration",
							"sid": 577540421754479,
							"parameters": [
								"PlayerAlignmentId_UnUsed",
								"Fighter.Acceleration",
								"0"
							]
						}
					],
					"sid": 713623141481600,
					"disabled": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-at-x",
							"objectClass": "KeyDownArray",
							"sid": 867304402552086,
							"parameters": {
								"x": "KeyCode_Space",
								"comparison": 4,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"callFunction": "Fighter_shootProjectile",
							"sid": 350591066336386,
							"parameters": [
								"PlayerAlignmentId_UnUsed",
								"0"
							]
						}
					],
					"sid": 692220373341147,
					"disabled": true
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-key-pressed",
					"objectClass": "Keyboard",
					"sid": 937625078311508,
					"parameters": {
						"key": 16
					}
				},
				{
					"id": "compare-boolean-eventvar",
					"objectClass": "System",
					"sid": 952324768334084,
					"parameters": {
						"variable": "PlayerControllable"
					}
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 256928044200706,
					"parameters": {
						"variable": "PlayerAlignmentId_UnUsed",
						"value": "( PlayerAlignmentId_UnUsed + 1 ) % 2"
					}
				}
			],
			"sid": 501437588370322,
			"disabled": true
		},
		{
			"functionName": "Fighter_byKeyDownArray",
			"functionDescription": "Control Fighter according KeyDownArray",
			"functionCategory": "Fighter",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "local_alignmentId",
					"type": "number",
					"initialValue": "0",
					"comment": "Local variable for alignment id.",
					"sid": 446520172591031
				},
				{
					"name": "local_keyCode",
					"type": "number",
					"initialValue": "0",
					"comment": "Local variable for key code.",
					"sid": 471949301656689
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "for",
					"objectClass": "System",
					"sid": 518715443871229,
					"parameters": {
						"name": "\"AlignmentId\"",
						"start-index": "0",
						"end-index": "AlignmentId_Left_Up_Right_Down_Shoot_Array.Width"
					}
				},
				{
					"id": "for",
					"objectClass": "System",
					"sid": 237589287140791,
					"parameters": {
						"name": "\"KeyCodeIndex\"",
						"start-index": "0",
						"end-index": "AlignmentId_Left_Up_Right_Down_Shoot_Array.Height"
					}
				},
				{
					"id": "compare-at-xy",
					"objectClass": "KeyDownArray",
					"sid": 798373474777337,
					"parameters": {
						"x": "AlignmentId_Left_Up_Right_Down_Shoot_Array.At( LoopIndex( \"AlignmentId\" ), LoopIndex( \"KeyCodeIndex\" ) )",
						"y": "0",
						"comparison": 4,
						"value": "0"
					}
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 790343532133518,
					"parameters": {
						"variable": "local_alignmentId",
						"value": "LoopIndex( \"AlignmentId\" )"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 508424351046023,
					"parameters": {
						"variable": "local_keyCode",
						"value": "AlignmentId_Left_Up_Right_Down_Shoot_Array.At( local_alignmentId, LoopIndex( \"KeyCodeIndex\" ) )"
					}
				},
				{
					"id": "set-text",
					"objectClass": "SpriteFont",
					"sid": 199240890471173,
					"disabled": true,
					"parameters": {
						"text": "SpriteFont.Text & \" ,\" & local_alignmentId & \",\" & local_keyCode & \",\" & KeyDownArray.At( local_keyCode, 1 ) & \",\" & KeyDownArray.At( local_keyCode, 2 )"
					}
				},
				{
					"callFunction": "Fighter_applyAcceleration",
					"sid": 677594928943759,
					"parameters": [
						"local_alignmentId",
						"KeyDownArray.At( local_keyCode, 1 )",
						"KeyDownArray.At( local_keyCode, 2 )"
					]
				},
				{
					"callFunction": "Fighter_shootProjectile",
					"sid": 700047858359668,
					"parameters": [
						"local_alignmentId",
						"KeyDownArray.At( local_keyCode, 3 )"
					]
				}
			],
			"sid": 158680859806621
		}
	],
	"sid": 818138888685423
}