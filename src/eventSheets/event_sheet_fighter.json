{
	"name": "Event_Sheet_Fighter",
	"events": [
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-timer",
					"objectClass": "Fighter",
					"sid": 986118309095995,
					"behaviorType": "Timer",
					"parameters": {
						"tag": "\"EnergyRestore\""
					}
				}
			],
			"actions": [
				{
					"id": "set-instvar-value",
					"objectClass": "Fighter",
					"sid": 718780227153299,
					"parameters": {
						"instance-variable": "EnergyCur",
						"value": "min( Self.EnergyCur + Self.EnergyRestorePoints, Self.EnergyMax )"
					}
				},
				{
					"callFunction": "EnergyBar_Refresh_byFighter_Picked",
					"sid": 429894878575575
				}
			],
			"sid": 231980933674926
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-timer",
					"objectClass": "Fighter",
					"sid": 764052896224703,
					"behaviorType": "Timer",
					"parameters": {
						"tag": "\"ShootCoolDown\""
					}
				}
			],
			"actions": [
				{
					"id": "set-boolean-instvar",
					"objectClass": "Fighter",
					"sid": 821068854172783,
					"parameters": {
						"instance-variable": "ShootReady",
						"value": "true"
					}
				}
			],
			"sid": 144467237506523
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-timer",
					"objectClass": "Fighter",
					"sid": 448786972842513,
					"behaviorType": "Timer",
					"parameters": {
						"tag": "\"RaiseShieldCoolDown\""
					}
				}
			],
			"actions": [
				{
					"id": "set-boolean-instvar",
					"objectClass": "Fighter",
					"sid": 220224418255187,
					"parameters": {
						"instance-variable": "RaiseShieldReady",
						"value": "true"
					}
				}
			],
			"sid": 876968769656975
		},
		{
			"functionName": "Fighter_recreateAll",
			"functionDescription": "Recreate all Fighter (hierarchy).",
			"functionCategory": "Fighter",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "Fighter",
					"sid": 846134909559484
				},
				{
					"id": "destroy",
					"objectClass": "Shield",
					"sid": 133864932364351
				},
				{
					"id": "destroy",
					"objectClass": "Projectile",
					"sid": 290382056744667
				},
				{
					"callFunction": "Fighter_create",
					"sid": 293196134570834,
					"parameters": [
						"Alignment0_Id",
						"Alignment0_Fighter_X",
						"Alignment0_Fighter_Y",
						"Alignment0_Fighter_Angle",
						"Alignment0_Fighter_Color_R",
						"Alignment0_Fighter_Color_G",
						"Alignment0_Fighter_Color_B"
					]
				},
				{
					"callFunction": "Fighter_create",
					"sid": 389649426146040,
					"parameters": [
						"Alignment1_Id",
						"Alignment1_Fighter_X",
						"Alignment1_Fighter_Y",
						"Alignment1_Fighter_Angle",
						"Alignment1_Fighter_Color_R",
						"Alignment1_Fighter_Color_G",
						"Alignment1_Fighter_Color_B"
					]
				}
			],
			"sid": 482811962513476
		},
		{
			"functionName": "Fighter_create",
			"functionDescription": "Create one Fighter (hierarchy)",
			"functionCategory": "Fighter",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "AlignmentId",
					"type": "number",
					"initialValue": "0",
					"comment": "The the alignment numeric identifier of the created Fighter.",
					"sid": 555641068065648
				},
				{
					"name": "X",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 822837895721739
				},
				{
					"name": "Y",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 827261301022644
				},
				{
					"name": "FaceAngle",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 222786055098931
				},
				{
					"name": "ColorR",
					"type": "number",
					"initialValue": "255",
					"comment": "",
					"sid": 888039430666060
				},
				{
					"name": "ColorG",
					"type": "number",
					"initialValue": "255",
					"comment": "",
					"sid": 990883722353278
				},
				{
					"name": "ColorB",
					"type": "number",
					"initialValue": "255",
					"comment": "",
					"sid": 578447322703112
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 750448177561400,
					"parameters": {
						"object-to-create": "Fighter",
						"layer": "1",
						"x": "X",
						"y": "Y",
						"create-hierarchy": true,
						"template-name": "\"FighterTemplate\""
					}
				},
				{
					"id": "stop-animation",
					"objectClass": "Fighter",
					"sid": 236154558499395
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Fighter",
					"sid": 694968917598312,
					"parameters": {
						"instance-variable": "VersusAlignmentId",
						"value": "AlignmentId"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Fighter",
					"sid": 482426688325022,
					"parameters": {
						"instance-variable": "private_Force",
						"value": "Self.Physics.Mass * GameToPhysicsRatio * Self.Acceleration"
					}
				},
				{
					"id": "set-angle",
					"objectClass": "Fighter",
					"sid": 781151700583098,
					"parameters": {
						"angle": "FaceAngle"
					}
				},
				{
					"id": "set-default-color",
					"objectClass": "FighterSkin",
					"sid": 949374298968077,
					"parameters": {
						"color": "rgbEx255(ColorR, ColorG, ColorB)"
					}
				},
				{
					"id": "start-timer",
					"objectClass": "Fighter",
					"sid": 159626439227153,
					"behaviorType": "Timer",
					"parameters": {
						"duration": "Fighter.EnergyRestoreSeconds",
						"type": "regular",
						"tag": "\"EnergyRestore\""
					}
				}
			],
			"sid": 381188756354974
		},
		{
			"functionName": "Fighter_applyAcceleration_byPicked",
			"functionDescription": "Let picked Fighter got acceleration.",
			"functionCategory": "Fighter",
			"functionReturnType": "none",
			"functionCopyPicked": true,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "ForceScaleX",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 827888944328589
				},
				{
					"name": "ForceScaleY",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 709676732894794
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "evaluate-expression",
					"objectClass": "System",
					"sid": 649810944934246,
					"parameters": {
						"value": "abs( ForceScaleX ) + abs( ForceScaleY )"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "Fighter",
					"sid": 397422389076535,
					"parameters": {
						"instance-variable": "EnergyCur",
						"comparison": 5,
						"value": "Self.EnergyPointsThrust"
					}
				}
			],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "SpriteFont",
					"sid": 155787292630950,
					"disabled": true,
					"parameters": {
						"text": "SpriteFont.Text & \",Thrust\""
					}
				},
				{
					"id": "set-text",
					"objectClass": "SpriteFont",
					"sid": 950739740697327,
					"disabled": true,
					"parameters": {
						"text": "SpriteFont.Text & \",Mass=\" & Fighter.Physics.Mass"
					}
				},
				{
					"id": "set-text",
					"objectClass": "SpriteFont",
					"sid": 902280635658129,
					"disabled": true,
					"parameters": {
						"text": "SpriteFont.Text & \",ForceScaleX=\" & ForceScaleX & \",ForceScaleY=\" & ForceScaleY"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Fighter",
					"sid": 552960550594776,
					"parameters": {
						"instance-variable": "EnergyCur",
						"value": "max( Self.EnergyCur - Self.EnergyPointsThrust, 0 )"
					}
				},
				{
					"callFunction": "EnergyBar_Refresh_byFighter_Picked",
					"sid": 624429156458684
				},
				{
					"id": "apply-force",
					"objectClass": "Fighter",
					"sid": 404563629868098,
					"disabled": true,
					"behaviorType": "Physics",
					"parameters": {
						"force-x": "Self.Physics.Mass * GameToPhysicsRatio * Self.Acceleration * ForceScaleX",
						"force-y": "Self.Physics.Mass * GameToPhysicsRatio * Self.Acceleration * ForceScaleY",
						"image-point": "\"GunMuzzle\""
					}
				},
				{
					"id": "apply-force",
					"objectClass": "Fighter",
					"sid": 583468764453644,
					"behaviorType": "Physics",
					"parameters": {
						"force-x": "Self.private_Force * ForceScaleX",
						"force-y": "Self.private_Force * ForceScaleY",
						"image-point": "\"GunMuzzle\""
					}
				}
			],
			"sid": 861478868260186,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-children",
							"objectClass": "FighterSkin",
							"sid": 852610341304762,
							"parameters": {
								"child": "FighterThrustParticles",
								"which": "own"
							}
						},
						{
							"id": "pick-by-evaluate",
							"objectClass": "System",
							"sid": 897617222089413,
							"parameters": {
								"object": "FighterThrustParticles",
								"expression": "( FighterThrustParticles.for_ForceScaleX = ForceScaleX ) & ( FighterThrustParticles.for_ForceScaleY = ForceScaleY )"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Fighter thrusting particles animation."
						},
						{
							"id": "set-text",
							"objectClass": "SpriteFont",
							"sid": 294787542797023,
							"disabled": true,
							"parameters": {
								"text": "SpriteFont.Text & \",\" & FighterThrustParticles.UID"
							}
						},
						{
							"id": "set-spraying",
							"objectClass": "FighterThrustParticles",
							"sid": 735094795427263,
							"parameters": {
								"state": "spraying"
							}
						}
					],
					"sid": 679436291983753
				}
			]
		},
		{
			"functionName": "Fighter_shootProjectile_byPicked",
			"functionDescription": "Create Projectile at picked Fighter's GunMuzzle",
			"functionCategory": "Fighter",
			"functionReturnType": "none",
			"functionCopyPicked": true,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "bShoot",
					"type": "number",
					"initialValue": "0",
					"comment": "0: No shoot. 1: Shoot.",
					"sid": 140871967245241
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "compare-two-values",
					"objectClass": "System",
					"sid": 640290510107127,
					"parameters": {
						"first-value": "bShoot",
						"comparison": 4,
						"second-value": "0"
					}
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "Fighter",
					"sid": 568133599956478,
					"parameters": {
						"instance-variable": "ShootReady"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "Fighter",
					"sid": 668741903858956,
					"parameters": {
						"instance-variable": "EnergyCur",
						"comparison": 5,
						"value": "Self.EnergyPointsShoot"
					}
				}
			],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "SpriteFont",
					"sid": 693667964373363,
					"disabled": true,
					"parameters": {
						"text": "SpriteFont.Text & \",Projectile\" "
					}
				},
				{
					"id": "set-boolean-instvar",
					"objectClass": "Fighter",
					"sid": 733037844831310,
					"parameters": {
						"instance-variable": "ShootReady",
						"value": "false"
					}
				},
				{
					"id": "start-timer",
					"objectClass": "Fighter",
					"sid": 594714598373805,
					"behaviorType": "Timer",
					"parameters": {
						"duration": "Self.ShootReadySeconds",
						"type": "once",
						"tag": "\"ShootCoolDown\""
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Fighter",
					"sid": 380320334830322,
					"parameters": {
						"instance-variable": "EnergyCur",
						"value": "max( Self.EnergyCur - Self.EnergyPointsShoot, 0 )"
					}
				},
				{
					"callFunction": "EnergyBar_Refresh_byFighter_Picked",
					"sid": 263429619726964
				},
				{
					"id": "spawn-another-object",
					"objectClass": "Fighter",
					"sid": 447039720621132,
					"parameters": {
						"object": "Projectile",
						"layer": "1",
						"image-point": "\"GunMuzzle\"",
						"create-hierarchy": true
					}
				},
				{
					"id": "stop-animation",
					"objectClass": "Projectile",
					"sid": 665947295193939
				},
				{
					"id": "set-default-color",
					"objectClass": "ProjectileSkin",
					"sid": 414163587718309,
					"parameters": {
						"color": "FighterSkin.ColorValue"
					}
				},
				{
					"id": "set-fade-out-time",
					"objectClass": "ProjectileSkin",
					"sid": 757179844891252,
					"behaviorType": "Fade",
					"parameters": {
						"fade-out-time": "Projectile_FadeOut_Seconds"
					}
				},
				{
					"id": "apply-impulse-at-angle",
					"objectClass": "Projectile",
					"sid": 616512468969735,
					"behaviorType": "Physics",
					"parameters": {
						"impulse": "Self.Physics.Mass * GameToPhysicsRatio * Self.Acceleration",
						"angle": "Self.Angle",
						"image-point": "\"ThrustPoint\""
					}
				}
			],
			"sid": 748652751858314
		},
		{
			"functionName": "Fighter_raiseShield_byPicked",
			"functionDescription": "Create FighterShield at picked Fighter's ShieldPoint.",
			"functionCategory": "Fighter",
			"functionReturnType": "none",
			"functionCopyPicked": true,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "bRaise",
					"type": "number",
					"initialValue": "0",
					"comment": "0: No raise. 1: Raise.",
					"sid": 524317471699662
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "compare-two-values",
					"objectClass": "System",
					"sid": 642253165595899,
					"parameters": {
						"first-value": "bRaise",
						"comparison": 4,
						"second-value": "0"
					}
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "Fighter",
					"sid": 847814309192124,
					"parameters": {
						"instance-variable": "RaiseShieldReady"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "Fighter",
					"sid": 720379099789838,
					"parameters": {
						"instance-variable": "EnergyCur",
						"comparison": 5,
						"value": "Self.EnergyPointsRaiseShield"
					}
				}
			],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "SpriteFont",
					"sid": 757749901958622,
					"disabled": true,
					"parameters": {
						"text": "SpriteFont.Text & \",Shield\" "
					}
				},
				{
					"id": "set-boolean-instvar",
					"objectClass": "Fighter",
					"sid": 365223830571515,
					"parameters": {
						"instance-variable": "RaiseShieldReady",
						"value": "false"
					}
				},
				{
					"id": "start-timer",
					"objectClass": "Fighter",
					"sid": 379473503124952,
					"behaviorType": "Timer",
					"parameters": {
						"duration": "Self.RaiseShieldReadySeconds",
						"type": "once",
						"tag": "\"RaiseShieldCoolDown\""
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Fighter",
					"sid": 797082359739392,
					"parameters": {
						"instance-variable": "EnergyCur",
						"value": "max( Self.EnergyCur - Self.EnergyPointsRaiseShield, 0 )"
					}
				},
				{
					"callFunction": "EnergyBar_Refresh_byFighter_Picked",
					"sid": 216082750008104
				},
				{
					"id": "spawn-another-object",
					"objectClass": "Fighter",
					"sid": 851995603857163,
					"parameters": {
						"object": "Shield",
						"layer": "1",
						"image-point": "\"ShieldPoint_0\"",
						"create-hierarchy": true
					}
				},
				{
					"id": "stop-animation",
					"objectClass": "Shield",
					"sid": 364360614037288
				},
				{
					"id": "set-default-color",
					"objectClass": "ShieldSkin",
					"sid": 614350787850825,
					"parameters": {
						"color": "FighterSkin.ColorValue"
					}
				},
				{
					"id": "set-fade-out-time",
					"objectClass": "ShieldSkin",
					"sid": 674932708669766,
					"behaviorType": "Fade",
					"parameters": {
						"fade-out-time": "Shield_FadeOut_Seconds"
					}
				},
				{
					"id": "create-revolute-joint",
					"objectClass": "Fighter",
					"sid": 124319769273612,
					"disabled": true,
					"behaviorType": "Physics",
					"parameters": {
						"this-image-point": "0",
						"object": "Shield"
					}
				},
				{
					"id": "enabledisable-collisions",
					"objectClass": "Shield",
					"sid": 911412182925165,
					"behaviorType": "Physics",
					"parameters": {
						"object": "Fighter",
						"state": "disable"
					}
				},
				{
					"id": "enabledisable-collisions",
					"objectClass": "Shield",
					"sid": 184356697372814,
					"behaviorType": "Physics",
					"parameters": {
						"object": "Shield",
						"state": "disable"
					}
				}
			],
			"sid": 482284824563259
		},
		{
			"functionName": "Fighter_act_byKeyDownArray",
			"functionDescription": "Control Fighter according to KeyDownArray",
			"functionCategory": "Fighter",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "local_alignmentId",
					"type": "number",
					"initialValue": "0",
					"comment": "Local variable for alignment id.",
					"sid": 446520172591031
				},
				{
					"name": "local_keyCode",
					"type": "number",
					"initialValue": "0",
					"comment": "Local variable for key code.",
					"sid": 471949301656689
				},
				{
					"name": "local_dodge_ForceScaleX",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 919816669752728
				},
				{
					"name": "local_dodge_ForceScaleY",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 954297179102043
				},
				{
					"name": "local_bAttack",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 977789388167688
				},
				{
					"name": "local_bParry",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 899944636930111
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "for",
					"objectClass": "System",
					"sid": 648181285667904,
					"parameters": {
						"name": "\"AlignmentId\"",
						"start-index": "0",
						"end-index": "Fighter_Alignment_Action_KeyCodeArray.Width - 1"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "Fighter",
					"sid": 297652602353165,
					"parameters": {
						"instance-variable": "VersusAlignmentId",
						"comparison": 0,
						"value": "LoopIndex( \"AlignmentId\" )"
					}
				},
				{
					"id": "for",
					"objectClass": "System",
					"sid": 812989671817102,
					"parameters": {
						"name": "\"KeyCodeIndex\"",
						"start-index": "0",
						"end-index": "Fighter_Alignment_Action_KeyCodeArray.Height - 1"
					}
				},
				{
					"id": "compare-at-xy",
					"objectClass": "Fighter_KeyDownArray",
					"sid": 488699098204939,
					"parameters": {
						"x": "Fighter_Alignment_Action_KeyCodeArray.At( LoopIndex( \"AlignmentId\" ), LoopIndex( \"KeyCodeIndex\" ) )",
						"y": "KeyInfoIndex_bTriggered",
						"comparison": 4,
						"value": "0"
					}
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 790343532133518,
					"parameters": {
						"variable": "local_alignmentId",
						"value": "LoopIndex( \"AlignmentId\" )"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 508424351046023,
					"parameters": {
						"variable": "local_keyCode",
						"value": "Fighter_Alignment_Action_KeyCodeArray.At( local_alignmentId, LoopIndex( \"KeyCodeIndex\" ) )"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 180679390463956,
					"parameters": {
						"variable": "local_dodge_ForceScaleX",
						"value": "Fighter_KeyDownArray.At( local_keyCode, KeyInfoIndex_Dodge_ForceScaleX )"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 537117142625609,
					"parameters": {
						"variable": "local_dodge_ForceScaleY",
						"value": "Fighter_KeyDownArray.At( local_keyCode, KeyInfoIndex_Dodge_ForceScaleY )"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 915279839828618,
					"parameters": {
						"variable": "local_bAttack",
						"value": "Fighter_KeyDownArray.At( local_keyCode, KeyInfoIndex_bAttack )"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 482298261018445,
					"parameters": {
						"variable": "local_bParry",
						"value": "Fighter_KeyDownArray.At( local_keyCode, KeyInfoIndex_bParry )"
					}
				},
				{
					"callFunction": "Fighter_applyAcceleration_byPicked",
					"sid": 862157107837699,
					"parameters": [
						"local_dodge_ForceScaleX",
						"local_dodge_ForceScaleY"
					]
				},
				{
					"callFunction": "Fighter_shootProjectile_byPicked",
					"sid": 933571445248071,
					"parameters": [
						"Fighter_KeyDownArray.At( local_keyCode, KeyInfoIndex_bAttack )"
					]
				},
				{
					"callFunction": "Fighter_raiseShield_byPicked",
					"sid": 819393557694118,
					"parameters": [
						"Fighter_KeyDownArray.At( local_keyCode, KeyInfoIndex_bParry )"
					]
				}
			],
			"sid": 158680859806621
		}
	],
	"sid": 818138888685423
}