{
	"name": "Event_Sheet_Fighter",
	"events": [
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-timer",
					"objectClass": "Fighter",
					"sid": 986118309095995,
					"behaviorType": "Timer",
					"parameters": {
						"tag": "\"EnergyRestore\""
					}
				}
			],
			"actions": [
				{
					"id": "set-instvar-value",
					"objectClass": "Fighter",
					"sid": 718780227153299,
					"parameters": {
						"instance-variable": "EnergyCur",
						"value": "min( Self.EnergyCur + Self.EnergyRestorePoints, Self.EnergyMax )"
					}
				},
				{
					"callFunction": "EnergyBarRefresh",
					"sid": 429894878575575
				}
			],
			"sid": 231980933674926
		},
		{
			"functionName": "Fighter_recreateAll",
			"functionDescription": "Recreate all Fighter (hierarchy).",
			"functionCategory": "Fighter",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "Fighter",
					"sid": 846134909559484
				},
				{
					"id": "destroy",
					"objectClass": "Projectile",
					"sid": 290382056744667
				},
				{
					"callFunction": "Fighter_create",
					"sid": 293196134570834,
					"parameters": [
						"Alignment0_Id",
						"Alignment0_Fighter_X",
						"Alignment0_Fighter_Y",
						"Alignment0_Fighter_Angle",
						"Alignment0_Fighter_Color_R",
						"Alignment0_Fighter_Color_G",
						"Alignment0_Fighter_Color_B"
					]
				},
				{
					"callFunction": "Fighter_create",
					"sid": 389649426146040,
					"parameters": [
						"Alignment1_Id",
						"Alignment1_Fighter_X",
						"Alignment1_Fighter_Y",
						"Alignment1_Fighter_Angle",
						"Alignment1_Fighter_Color_R",
						"Alignment1_Fighter_Color_G",
						"Alignment1_Fighter_Color_B"
					]
				}
			],
			"sid": 482811962513476
		},
		{
			"functionName": "Fighter_create",
			"functionDescription": "Create one Fighter (hierarchy)",
			"functionCategory": "Fighter",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "AlignmentId",
					"type": "number",
					"initialValue": "0",
					"comment": "The the alignment numeric identifier of the created Fighter.",
					"sid": 555641068065648
				},
				{
					"name": "X",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 822837895721739
				},
				{
					"name": "Y",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 827261301022644
				},
				{
					"name": "FaceAngle",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 222786055098931
				},
				{
					"name": "ColorR",
					"type": "number",
					"initialValue": "255",
					"comment": "",
					"sid": 888039430666060
				},
				{
					"name": "ColorG",
					"type": "number",
					"initialValue": "255",
					"comment": "",
					"sid": 990883722353278
				},
				{
					"name": "ColorB",
					"type": "number",
					"initialValue": "255",
					"comment": "",
					"sid": 578447322703112
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 750448177561400,
					"parameters": {
						"object-to-create": "Fighter",
						"layer": "1",
						"x": "X",
						"y": "Y",
						"create-hierarchy": true,
						"template-name": "\"FighterTemplate\""
					}
				},
				{
					"id": "stop-animation",
					"objectClass": "Fighter",
					"sid": 236154558499395
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Fighter",
					"sid": 694968917598312,
					"parameters": {
						"instance-variable": "VersusAlignmentId",
						"value": "AlignmentId"
					}
				},
				{
					"id": "set-angle",
					"objectClass": "Fighter",
					"sid": 781151700583098,
					"parameters": {
						"angle": "FaceAngle"
					}
				},
				{
					"id": "set-default-color",
					"objectClass": "FighterSkin",
					"sid": 949374298968077,
					"parameters": {
						"color": "rgbEx255(ColorR, ColorG, ColorB)"
					}
				},
				{
					"id": "start-timer",
					"objectClass": "Fighter",
					"sid": 159626439227153,
					"behaviorType": "Timer",
					"parameters": {
						"duration": "Fighter.EnergyRestoreSeconds",
						"type": "regular",
						"tag": "\"EnergyRestore\""
					}
				}
			],
			"sid": 381188756354974
		},
		{
			"functionName": "Fighter_shootProjectile",
			"functionDescription": "Create Projectile at Fighter's GunMuzzle",
			"functionCategory": "Fighter",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "AlignmentId",
					"type": "number",
					"initialValue": "0",
					"comment": "Specify which Fighter to shoot Projectile.",
					"sid": 743241594594642
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "compare-instance-variable",
					"objectClass": "Fighter",
					"sid": 202511763412473,
					"parameters": {
						"instance-variable": "VersusAlignmentId",
						"comparison": 0,
						"value": "AlignmentId"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "Fighter",
					"sid": 835031589117626,
					"parameters": {
						"instance-variable": "EnergyCur",
						"comparison": 4,
						"value": "0"
					}
				}
			],
			"actions": [
				{
					"id": "set-instvar-value",
					"objectClass": "Fighter",
					"sid": 472299006307758,
					"parameters": {
						"instance-variable": "EnergyCur",
						"value": "max( Self.EnergyCur - Self.EnergyPointsShoot, 0 )"
					}
				},
				{
					"callFunction": "EnergyBarRefresh",
					"sid": 641453225654584
				},
				{
					"id": "spawn-another-object",
					"objectClass": "Fighter",
					"sid": 617366794989799,
					"parameters": {
						"object": "Projectile",
						"layer": "1",
						"image-point": "\"GunMuzzle\"",
						"create-hierarchy": true
					}
				},
				{
					"id": "stop-animation",
					"objectClass": "Projectile",
					"sid": 472344430563071
				},
				{
					"id": "create-revolute-joint",
					"objectClass": "Fighter",
					"sid": 261971389045109,
					"disabled": true,
					"behaviorType": "Physics",
					"parameters": {
						"this-image-point": "0",
						"object": "Projectile"
					}
				},
				{
					"id": "apply-impulse-at-angle",
					"objectClass": "Projectile",
					"sid": 736881203892636,
					"behaviorType": "Physics",
					"parameters": {
						"impulse": "Self.Physics.Mass * GameToPhysicsRatio * Self.Acceleration",
						"angle": "Self.Angle",
						"image-point": "\"ThrustPoint\""
					}
				}
			],
			"sid": 672378711083100
		},
		{
			"functionName": "Fighter_applyAcceleration",
			"functionDescription": "Let Fighter got specified acceleration.",
			"functionCategory": "Fighter",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "AlignmentId",
					"type": "number",
					"initialValue": "0",
					"comment": "Specify which Fighter to be applied force.",
					"sid": 984114611357793
				},
				{
					"name": "AccelerationX",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 827888944328589
				},
				{
					"name": "AccelerationY",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 709676732894794
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "compare-instance-variable",
					"objectClass": "Fighter",
					"sid": 554248176598770,
					"parameters": {
						"instance-variable": "VersusAlignmentId",
						"comparison": 0,
						"value": "AlignmentId"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "Fighter",
					"sid": 278219412522839,
					"parameters": {
						"instance-variable": "EnergyCur",
						"comparison": 4,
						"value": "0"
					}
				}
			],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "SpriteFont",
					"sid": 874676504366084,
					"disabled": true,
					"parameters": {
						"text": "SpriteFont.Text & \",Mass=\" & Fighter.Physics.Mass"
					}
				},
				{
					"id": "set-text",
					"objectClass": "SpriteFont",
					"sid": 889866941065199,
					"disabled": true,
					"parameters": {
						"text": "SpriteFont.Text & \",ForceX=\" & Fighter.Physics.Mass * GameToPhysicsRatio * AccelerationX & \",ForceY=\" & Fighter.Physics.Mass * GameToPhysicsRatio * AccelerationY"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Fighter",
					"sid": 552960550594776,
					"parameters": {
						"instance-variable": "EnergyCur",
						"value": "max( Self.EnergyCur - Self.EnergyPointsThrust, 0 )"
					}
				},
				{
					"callFunction": "EnergyBarRefresh",
					"sid": 624429156458684
				},
				{
					"id": "apply-force",
					"objectClass": "Fighter",
					"sid": 224447258890028,
					"behaviorType": "Physics",
					"parameters": {
						"force-x": "Self.Physics.Mass * GameToPhysicsRatio * AccelerationX",
						"force-y": "Self.Physics.Mass * GameToPhysicsRatio * AccelerationY",
						"image-point": "\"GunMuzzle\""
					}
				}
			],
			"sid": 861478868260186
		},
		{
			"functionName": "Fighter_applyForceByKeyboard",
			"functionDescription": "",
			"functionCategory": "Fighter",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "compare-boolean-eventvar",
					"objectClass": "System",
					"sid": 658773203942919,
					"parameters": {
						"variable": "PlayerControllable"
					}
				}
			],
			"actions": [
				{
					"type": "comment",
					"text": "Anti the gravity completely."
				},
				{
					"id": "apply-force",
					"objectClass": "Fighter",
					"sid": 735080081536116,
					"disabled": true,
					"behaviorType": "Physics",
					"parameters": {
						"force-x": "0",
						"force-y": "-Self.Physics.Mass * GameToPhysicsRatio * PhysicsGravity",
						"image-point": "0"
					}
				}
			],
			"sid": 551444411169118,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 737410397627107,
							"parameters": {
								"key": 38
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "SpriteFont",
							"sid": 109580867693354,
							"disabled": true,
							"parameters": {
								"text": "SpriteFont.Text & \",Up\""
							}
						},
						{
							"callFunction": "Fighter_applyAcceleration",
							"sid": 224359262544233,
							"parameters": [
								"PlayerAlignmentId",
								"0",
								"-Fighter.Acceleration"
							]
						}
					],
					"sid": 335114378750189
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 286733803083657,
							"parameters": {
								"key": 40
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "SpriteFont",
							"sid": 202579690792960,
							"disabled": true,
							"parameters": {
								"text": "SpriteFont.Text & \",Down\""
							}
						},
						{
							"callFunction": "Fighter_applyAcceleration",
							"sid": 298905617938196,
							"parameters": [
								"PlayerAlignmentId",
								"0",
								"Fighter.Acceleration"
							]
						}
					],
					"sid": 632865424140316
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 296004630267460,
							"parameters": {
								"key": 37
							}
						}
					],
					"actions": [
						{
							"callFunction": "Fighter_applyAcceleration",
							"sid": 928883768665533,
							"parameters": [
								"PlayerAlignmentId",
								"-Fighter.Acceleration",
								"0"
							]
						}
					],
					"sid": 654849004402937
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 279745485501562,
							"parameters": {
								"key": 39
							}
						}
					],
					"actions": [
						{
							"callFunction": "Fighter_applyAcceleration",
							"sid": 577540421754479,
							"parameters": [
								"PlayerAlignmentId",
								"Fighter.Acceleration",
								"0"
							]
						}
					],
					"sid": 713623141481600
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-key-pressed",
					"objectClass": "Keyboard",
					"sid": 779873460710255,
					"parameters": {
						"key": 32
					}
				},
				{
					"id": "compare-boolean-eventvar",
					"objectClass": "System",
					"sid": 173303758737947,
					"parameters": {
						"variable": "PlayerControllable"
					}
				}
			],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "SpriteFont",
					"sid": 327402957081042,
					"disabled": true,
					"parameters": {
						"text": "SpriteFont.Text & \",Space\""
					}
				},
				{
					"callFunction": "Fighter_shootProjectile",
					"sid": 657101726273757,
					"parameters": [
						"PlayerAlignmentId"
					]
				}
			],
			"sid": 489805944339476
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-key-pressed",
					"objectClass": "Keyboard",
					"sid": 937625078311508,
					"parameters": {
						"key": 16
					}
				},
				{
					"id": "compare-boolean-eventvar",
					"objectClass": "System",
					"sid": 952324768334084,
					"parameters": {
						"variable": "PlayerControllable"
					}
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 256928044200706,
					"parameters": {
						"variable": "PlayerAlignmentId",
						"value": "( PlayerAlignmentId + 1 ) % 2"
					}
				}
			],
			"sid": 501437588370322
		}
	],
	"sid": 818138888685423
}